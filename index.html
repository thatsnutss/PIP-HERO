<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0B0F17" />
  <title>PIP HERO</title>
  <meta name="description" content="Pip Hero provides rules-based indicators and automation tools for Futures & FX traders operating under prop firm rules. Scalping and swing indicators, an automated swing bot, and the inner circle." />

  <style>
    :root{
      --bg: #070A12;
      --bg2:#0B1020;
      --border: rgba(255,255,255,.10);
      --border2: rgba(255,255,255,.14);
      --text:#E8ECFF;
      --muted: rgba(232,236,255,.72);
      --muted2: rgba(232,236,255,.55);
      --accent:#7C5CFF;
      --accent2:#22D3EE;
      --good:#34D399;
      --shadow: 0 18px 65px rgba(0,0,0,.55);
      --shadow2: 0 10px 35px rgba(0,0,0,.45);
      --radius: 18px;
      --radius2: 26px;
      --max: 1140px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(1100px 600px at 18% 12%, rgba(124,92,255,.26), transparent 60%),
        radial-gradient(900px 520px at 85% 20%, rgba(34,211,238,.20), transparent 62%),
        radial-gradient(760px 520px at 70% 85%, rgba(52,211,153,.12), transparent 62%),
        linear-gradient(180deg, var(--bg), var(--bg2) 55%, #070A12 110%);
      overflow-x:hidden;
    }

    a{color:inherit; text-decoration:none}
    button{font-family:inherit}
    .container{max-width:var(--max); margin:0 auto; padding:0 22px}
    .section{padding:86px 0}
    .section.tight{padding:64px 0}
    .section.headspace{padding-top:120px}

    /* ==========================================================
       Stability (Option 2):
       - Remove noise overlay (hidden)
       - Disable backdrop-filter by default
       - Re-enable blur only when supported via @supports
       ========================================================== */

    /* Noise overlay removed for Chrome stability */
    .noise{ display:none !important; }

    /* Header: SAFE default (no backdrop-filter) */
    .header{
      position:sticky; top:0; z-index:50;
      background: rgba(7,10,18,.82);
      border-bottom:1px solid rgba(255,255,255,.06);
    }

    /* Modal overlay: SAFE default (no backdrop-filter) */
    .modal-overlay{
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 22px;
      background: rgba(0,0,0,.62);
      z-index: 9999;
    }

    /* Re-enable blur where supported (keeps visuals on many browsers) */
    @supports ((backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px))){
      .header{
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
        background: linear-gradient(180deg, rgba(7,10,18,.78), rgba(7,10,18,.50));
      }
      .modal-overlay{
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
      }
    }

    /* Header / Nav */
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      height:72px;
    }

    .brand{
      display:flex; align-items:center; gap:12px; font-weight:650; letter-spacing:.2px;
    }

    .navlinks{
      display:flex; gap:14px; align-items:center;
      color:rgba(232,236,255,.72);
      font-size:14px;
    }
    .navlinks a{padding:10px 10px; border-radius:12px}
    .navlinks a:hover{background:rgba(255,255,255,.06); color:var(--text)}
    .navcta{display:flex; align-items:center; gap:10px;}

    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:11px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:var(--text);
      font-weight:600;
      font-size:14px;
      box-shadow: 0 10px 28px rgba(0,0,0,.25);
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      user-select:none;
      white-space:nowrap;
    }
    .btn:hover{transform:translateY(-1px); background:rgba(255,255,255,.09); border-color:rgba(255,255,255,.20)}
    .btn:active{transform:translateY(0)}
    .btn.primary{
      border-color: rgba(124,92,255,.35);
      background:
        radial-gradient(120px 60px at 20% 20%, rgba(255,255,255,.18), transparent 55%),
        linear-gradient(135deg, rgba(124,92,255,.92), rgba(34,211,238,.82));
      box-shadow: 0 18px 52px rgba(124,92,255,.22), 0 12px 45px rgba(34,211,238,.12);
    }
    .btn.primary:hover{border-color: rgba(255,255,255,.24)}
    .btn.ghost{
      background:transparent;
      box-shadow:none;
      border-color: rgba(255,255,255,.12);
    }

    .hamburger{
      display:none;
      width:42px; height:42px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      align-items:center; justify-content:center;
      cursor:pointer;

color: var(--accent); /* FIX: ensures hamburger lines are coloured on all browsers */
    }
    .hamburger svg{opacity:.9}

    /* Mobile menu */
    .mobile{display:none; padding:10px 0 18px;}
    .mobile.show{display:block}
    .mobile .panel{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(11,16,32,.70);
      border-radius: 18px;
      padding:12px;
    }
    .mobile a{
      display:block;
      padding:12px 12px;
      border-radius:14px;
      color:rgba(232,236,255,.72);
      font-size:14px;
    }
    .mobile a:hover{background:rgba(255,255,255,.06); color:var(--text)}
    .mobile .row{display:flex; gap:10px; padding:10px}

    /* Hero */
    .hero{
      display:grid;
      grid-template-columns: 1fr;
      gap:18px;
      align-items:center;
      max-width: 980px;
    }

    .kicker{
      display:inline-flex; align-items:center; gap:10px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color:rgba(232,236,255,.72);
      font-size:13px;
      width:fit-content;
    }
    .pulse{
      width:10px; height:10px; border-radius:999px;
      background: var(--good);
      box-shadow: 0 0 0 0 rgba(52,211,153,.40);
      animation:pulse 2.2s infinite;
    }
    @keyframes pulse{
      0%{box-shadow:0 0 0 0 rgba(52,211,153,.34)}
      70%{box-shadow:0 0 0 10px rgba(52,211,153,0)}
      100%{box-shadow:0 0 0 0 rgba(52,211,153,0)}
    }
    h1{
      margin:18px 0 14px;
      font-size: clamp(34px, 3.5vw, 54px);
      line-height:1.03;
      letter-spacing: -0.8px;
    }
    .grad{
      background: linear-gradient(135deg, rgba(255,255,255,.95), rgba(232,236,255,.74) 55%, rgba(34,211,238,.85));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
    }
    .lead{
      color:rgba(232,236,255,.72);
      font-size: 16px;
      line-height:1.65;
      max-width: 82ch;
    }
    .hero-actions{
      margin-top:22px;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
    }

    /* Risk notice */
    .disclaimer{
      margin-top:18px;
      padding:12px 14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      color: rgba(232,236,255,.62);
      font-size:12px;
      line-height:1.6;
      display:flex;
      gap:10px;
      align-items:flex-start;
      width: fit-content;
      max-width: 100%;
    }
    .disclaimer svg{flex:0 0 auto; opacity:.9; margin-top:2px;}
    .disclaimer strong{color: rgba(232,236,255,.80); font-weight:700;}
    .disclaimer-text{max-width: 90ch;}

    /* Section headings */
    .heading{
      display:flex; align-items:flex-end; justify-content:space-between; gap:18px;
      margin-bottom:22px;
    }
    .heading h2{
      margin:0;
      font-size: clamp(24px, 2.5vw, 34px);
      letter-spacing:-.5px;
      line-height:1.12;
    }
    .heading p{
      margin:0;
      color: rgba(232,236,255,.72);
      max-width: 70ch;
      line-height:1.6;
      font-size:15px;
    }

    /* Features section */
    .features{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:12px;
      align-items:stretch;
      margin-top:18px;
    }
    .feature{
      grid-column: span 3;
      padding:18px 16px;
      border-radius: var(--radius2);
      border: 1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      box-shadow: var(--shadow2);
      position:relative;
      overflow:hidden;
      min-height: 170px;
    }
    .feature:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(260px 160px at 20% 15%, rgba(124,92,255,.14), transparent 60%),
        radial-gradient(260px 160px at 90% 20%, rgba(34,211,238,.12), transparent 62%);
      opacity:.8;
      pointer-events:none;
    }
    .feature > *{position:relative}
    .icon{
      width:40px; height:40px; border-radius:14px;
      display:inline-flex; align-items:center; justify-content:center;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      margin-bottom:12px;
    }
    .feature h3{margin:0 0 6px; font-size:15px; letter-spacing:.1px}
    .feature p{margin:0; color:rgba(232,236,255,.72); line-height:1.55; font-size:14px}

/* === How it works: integrated icon + heading (Option A) === */
.feature .top{
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 8px;
}

.feature .top .icon{
  width: 36px;
  height: 36px;
  border-radius: 12px;
  margin: 0;
  flex: 0 0 auto;
}

.feature .top h3{
  margin: 0;
  font-size: 15px;
  letter-spacing: .1px;
  line-height: 1.25;
}

    /* FAQ */
    .faqgrid{
      margin-top:18px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    details{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      box-shadow: var(--shadow2);
      padding: 14px 14px;
    }
    summary{
      cursor:pointer;
      list-style:none;
      font-weight:750;
      color: rgba(232,236,255,.92);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    summary::-webkit-details-marker{display:none}
    details p{
      margin:10px 0 0;
      color: rgba(232,236,255,.72);
      line-height:1.6;
      font-size:14px;
    }
    .chev{transition: transform .2s ease; opacity:.85}
    details[open] .chev{transform: rotate(180deg)}

    /* Pricing grid */
    .pricing{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:12px;
      align-items:stretch;
      margin-top:18px;
    }
    .price{
      grid-column: span 3;
      padding:18px;
      border-radius: var(--radius2);
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      box-shadow: var(--shadow2);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      gap:14px;
      min-height: 420px;
      position:relative;
    }
    .price .actions{margin-top:auto; padding-top:4px;}
    .price .chiprow{
      display:flex;
      justify-content:flex-start;
      align-items:center;
      min-height:24px;
      margin-top:-2px;
      margin-bottom:10px;
    }
    .price .tier{font-weight:750; letter-spacing:.2px; line-height:1.15}
    .price .desc{color:rgba(232,236,255,.72); line-height:1.6; font-size:14px; margin-top:2px}
    .price .val{
      display:flex; align-items:baseline; gap:8px;
      font-variant-numeric: tabular-nums;
      flex-wrap:wrap;
    }
    .price .val .num{font-size:34px; font-weight:800; letter-spacing:-.6px}
    .price .val .per{color:rgba(232,236,255,.55); font-size:13px}
    .price ul{margin:0; padding-left:18px; list-style:disc; display:grid; gap:10px}
    .price li{color: rgba(232,236,255,.82); font-size:14px; line-height:1.45;
}

/* Legal section lists */
.feature ul{
  margin: 10px 0 0;
  padding-left: 18px;
  display: grid;
  gap: 10px;
}

.feature li{
  color: rgba(232,236,255,.82);
  font-size: 14px;
  line-height: 1.45;
}

.feature li::marker{
  color: rgba(124,92,255,.85);
}

/* Accent-coloured bullet markers */
.price li::marker{
  color: rgba(124,92,255,.85);
}

    /* Recommended pricing highlight */
    .price.recommended{
      border-color: rgba(124,92,255,.55) !important;
      background:
        radial-gradient(420px 240px at 20% 10%, rgba(124,92,255,.24), transparent 60%),
        radial-gradient(380px 220px at 95% 15%, rgba(34,211,238,.18), transparent 62%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)) !important;
      box-shadow:
        0 18px 65px rgba(0,0,0,.55),
        0 0 0 1px rgba(124,92,255,.28) inset,
        0 0 0 6px rgba(124,92,255,.10);
    }
    .price.recommended::after{
      content:"Recommended";
      position:absolute;
      top:14px;
      left:14px;
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
      font-weight:800;
      letter-spacing:.2px;
      color: rgba(232,236,255,.92);
      border:1px solid rgba(255,255,255,.14);
      background:
        radial-gradient(120px 60px at 20% 20%, rgba(255,255,255,.12), transparent 55%),
        rgba(124,92,255,.18);
    }

    /* Quiz */
    .quiz{
      border-radius: 30px;
      border: 1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(560px 300px at 15% 20%, rgba(124,92,255,.22), transparent 60%),
        radial-gradient(520px 280px at 90% 30%, rgba(34,211,238,.16), transparent 62%),
        linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow: var(--shadow);
      overflow:hidden;
      padding: 22px;
    }
    .quiz h2{margin:0; font-size:26px; letter-spacing:-.5px}
    .quiz p{margin:8px 0 0; color:rgba(232,236,255,.72); line-height:1.6}
    .quizgrid{
      margin-top:14px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      align-items:start;
    }
    .qcard{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      border-radius: 18px;
      padding:14px;
    }
    .qtitle{font-weight:750; margin:0 0 8px}
    .opt{display:flex; gap:10px; align-items:flex-start; padding:10px 10px; border-radius:14px;}
    .opt:hover{background: rgba(255,255,255,.04);}
    .opt input{margin-top:3px}
    .opt span{color: rgba(232,236,255,.78); line-height:1.4; font-size:14px;}
    .quizactions{
      margin-top:14px;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    .result{
      display:none;
      margin-top:14px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      padding:14px;
      color: rgba(232,236,255,.78);
      line-height:1.55;
    }
    .result strong{color: rgba(232,236,255,.92)}
    .result .row{
      margin-top:10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    /* Footer */
    footer{
      padding: 34px 0 56px;
      border-top:1px solid rgba(255,255,255,.06);
      color: rgba(232,236,255,.55);
    }
    .footer{
      display:flex;
      justify-content:space-between;
      gap:18px;
      flex-wrap:wrap;
      Align-items:center;
    }
    .footlinks{display:flex; gap:14px; flex-wrap:wrap; font-size:13px}
    .footlinks a{color: rgba(232,236,255,.65)}
    .footlinks a:hover{color: rgba(232,236,255,.92)}
    .small{font-size:13px; line-height:1.6}

    /* Responsive */
    @media (max-width: 980px){
      .features .feature{grid-column: span 6}
      .faqgrid{grid-template-columns: 1fr}
      .price{grid-column: span 6}
      .quizgrid{grid-template-columns: 1fr}
      .heading{flex-direction:column; align-items:flex-start}
      .navlinks{display:none}
      .hamburger{display:inline-flex}
    }
    @media (max-width: 720px){
      .features .feature{grid-column: span 12}
      .price{grid-column: span 12}
    }

    /* Email modal continued */
    .modal-overlay.show{ display:flex; }

    .modal{
      width: min(520px, 100%);
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(11,16,32,.95);
      box-shadow: 0 22px 90px rgba(0,0,0,.65);
      padding: 18px;
      position: relative;
    }
    .modal-close{
      position:absolute;
      top: 10px;
      right: 10px;
      width: 40px;
      height: 40px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(232,236,255,.85);
      cursor: pointer;
      font-size: 22px;
      line-height: 1;
    }
    .modal h3{ margin: 6px 0 8px; font-size: 20px; }
    .modal p{ margin: 0 0 12px; color: rgba(232,236,255,.72); line-height: 1.5; font-size: 14px; }
    .modal input{
      width: 100%;
      padding: 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(232,236,255,.92);
      outline: none;
      margin: 8px 0 12px;
    }

    /* Logo hard constraints */
    .brand{
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .brand .logo{
      width: 40px;
      height: 40px;
      max-width: 40px;
      max-height: 40px;
      object-fit: contain;
      display: inline-block;
      flex-shrink: 0;
    }

/* GPU-safety fallback for fragile render paths */
@media (prefers-reduced-motion: reduce) {
  body {
    background: linear-gradient(180deg, #070A12, #0B1020);
  }
}

/* ==========================================================
   Mobile optimisation
   ========================================================== */

@media (max-width: 720px){

  /* Base section spacing */
  .section{
    padding: 56px 0;
  }

  .section.tight{
    padding: 44px 0;
  }

  .section.headspace{
    padding-top: 49px;
  }

  /* ==========================================================
     Mobile section spacing refinements
     (visual rhythm cleanup)
     ========================================================== */

  /* Tighten spacing after hero / risk notice */
  #features{
    padding-top: 44px;
    padding-bottom: 48px;
  }

  /* Tighten spacing between major stacked sections */
  #pricing,
  #quiz,
  #faq{
    padding-top: 48px;
    padding-bottom: 48px;
  }

  /* Legal section can breathe slightly more */
  #terms{
    padding-top: 48px;
    padding-bottom: 56px;
  }

  /* ==========================================================
     Hero
     ========================================================== */

  h1{
    font-size: clamp(30px, 8vw, 38px);
    line-height: 1.08;
  }

  .lead{
    font-size: 15px;
  }

  /* Kicker (force single line on mobile) */
  .kicker{
    white-space: nowrap;
    font-size: 12.5px;
  }

  /* ==========================================================
     Buttons & header
     ========================================================== */

  .btn{
    padding: 12px 16px;
    font-size: 15px;
  }

  .hamburger{
    width: 44px;
    height: 44px;
  }

  /* ==========================================================
     Cards
     ========================================================== */

  .feature,
  .price{
    padding: 20px;
  }

  .pricing{
    gap: 16px;
  }

  /* Lists */
  .price ul,
  .feature ul{
    gap: 12px;
  }

  /* ==========================================================
     Quiz
     ========================================================== */

  .opt{
    padding: 14px 12px;
  }

  .opt span{
    font-size: 15px;
  }

  /* ==========================================================
     FAQ
     ========================================================== */

  details{
    padding: 16px;
  }

  details p{
    font-size: 15px;
  }

  /* ==========================================================
     Prevent sticky header from covering anchors (mobile only)
     ========================================================== */

  #features,
  #pricing,
  #quiz,
  #faq,
  #terms{
    scroll-margin-top: 100px;
  }

  /* ==========================================================
     Legal section layout (stack vertically on mobile)
     ========================================================== */

  #terms .features{
    grid-template-columns: 1fr !important;
  }

  #terms .feature{
    grid-column: span 12 !important;
  }

  /* ==========================================================
     Footer
     ========================================================== */

  footer .footer{
    flex-direction: column;
    gap: 14px;
    text-align: center;
  }

  footer .brand{
    justify-content: center;
  }
}

/* ==========================================================
   Mobile header cleanup
   ========================================================== */

@media (max-width: 520px){
  /* Hide secondary CTA to prevent header crowding */
  .navcta a.btn.ghost{
    display: none;
  }
}

/* ==========================================================
   Extra-small safety net
   ========================================================== */

@media (max-width: 380px){
  /* Hide decorative pulse if space is extremely tight */
  .kicker .pulse{
    display: none;
  }
}

/* ==========================================================
   Mobile menu button alignment
   ========================================================== */

.mobile .btn{
  justify-content: center;
  text-align: center;
}

/* ==========================================================
   FIX: Email modal form layout (robust + browser-safe)
   ========================================================== */

#emailModal .modal{ text-align: left; }

#emailModal #emailFormWrap{
  display: flex;
  flex-direction: column;
  gap: 14px;          /* controls spacing between input/consent/buttons */
  width: 100%;
}

#emailModal #emailInput{
  width: 100%;
  margin: 0;          /* overrides .modal input margins */
}

/* Consent row: grid prevents overflow + keeps checkbox left */
#emailModal .email-consent{
  display: grid;
  grid-template-columns: 18px 1fr;
  column-gap: 10px;
  align-items: start;
  width: 100%;
  margin: 6px 0;   /* ðŸ‘ˆ adds clean breathing room above & below */
  cursor: pointer;
}

#emailModal .email-consent input[type="checkbox"]{
  margin: 2px 0 0 0;
}

#emailModal .email-consent span{
  display: block;
  min-width: 0;
  white-space: normal;        /* ensures wrapping */
  overflow-wrap: anywhere;    /* prevents text escaping right */
  color: rgba(232,236,255,.72);
  font-size: 13px;
  line-height: 1.45;
}

/* Button row: keep it tidy */
#emailModal #emailFormWrap > div{
  margin: 0;
}

  </style>
</head>

<body>
  <!-- Noise layer intentionally removed (Option 2 stability) -->
  <!-- <div class="noise" aria-hidden="true"></div> -->

  <header class="header">
    <div class="container">
      <div class="nav">
        <a class="brand" href="#top" aria-label="PIP HERO home">
          <img src="assets/logo.png" alt="PIP HERO logo" class="logo" />
          <span>PIP HERO</span>
        </a>

        <nav class="navlinks" aria-label="Primary navigation">
          <a href="#features">How it works</a>
          <a href="#pricing">Pricing</a>
          <a href="#quiz">Quiz</a>
          <a href="#faq">FAQs</a>
          <a href="#terms">Legal</a>
        </nav>

        <div class="navcta">
          <a class="btn ghost" href="#pricing">View pricing</a>
          <a class="btn primary" href="#quiz">Get started</a>

          <button class="hamburger" id="hamburger" aria-label="Open menu" aria-expanded="false">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="mobile" id="mobileMenu">
        <div class="panel">
          <a href="#features">How it works</a>
          <a href="#pricing">Pricing</a>
          <a href="#quiz">Get started</a>
          <a href="#faq">FAQs</a>
          <a href="#terms">Legal</a>
          <div class="row" style="flex-direction: column; gap: 10px;">
  <a class="btn ghost" href="#quiz" style="width:100%;">Quiz</a>
  <a class="btn primary" href="#pricing" style="width:100%;">View pricing</a>
</div>
        </div>
      </div>
    </div>
  </header>

  <main id="top">
    <!-- HERO -->
    <section class="section headspace">
      <div class="container">
        <div class="hero">
          <div>
            <div class="kicker">
              <span class="pulse" aria-hidden="true"></span>
              <span>Built for traders operating under strict risk rules</span>
            </div>

            <h1>
              Rules-based trading tools for<br>
              <span class="grad hero-line-2">disciplined Futures, FX & Crypto traders</span>.
            </h1>

            <!-- FIXED: no nested <p> tags -->
            <p class="lead">
              PIP HERO provides structured, rules-based indicators and automation designed to support<br>
              consistency, discipline, and risk control â€” without reliance on discretionary signals.
            </p>

            <div class="hero-actions">
              <a class="btn primary" href="#pricing">View toolkits</a>
              <a class="btn" href="#quiz">Find my fit</a>
            </div>

            <div class="disclaimer" role="note" aria-label="Risk disclosure">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20z" stroke="currentColor" stroke-width="2"/>
                <path d="M12 8v5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M12 16h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <div class="disclaimer-text">
                <strong>Risk notice:</strong>
                Trading Futures, FX, Crypto, and CFDs involves significant risk and may not be suitable for all traders.<br>
                PIP HERO provides tools and educational structure only and does not provide investment advice or guarantees.
              </div>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- HOW IT WORKS -->
    <section class="section" id="features">
      <div class="container">
        <div class="heading">
          <div>
            <h2>How it works</h2>
            <p>
              Built around explicit rules and repeatable execution.<br>
              Structured frameworks designed to minimise discretion, not replace it.
            </p>
          </div>
        </div>

        <div class="features">

  <div class="feature">
    <div class="top">
      <div class="icon" aria-hidden="true">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M4 19V5m0 14h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M7 15l3-3 3 2 5-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <h3>Define context</h3>
    </div>
    <p>
      Use trend, regime, and session filters to define when trading is permitted â€” before thinking about entries.
    </p>
  </div>

  <div class="feature">
    <div class="top">
      <div class="icon" aria-hidden="true">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M12 2l7 4v6c0 5-3 9-7 10-4-1-7-5-7-10V6l7-4z"
                stroke="currentColor" stroke-width="2"/>
        </svg>
      </div>
      <h3>Apply rules-based execution</h3>
    </div>
    <p>
      Indicators provide explicit entry and exit frameworks, with discretion applied only where defined â€” keeping decisions structured, not reactive.
    </p>
  </div>

  <div class="feature">
    <div class="top">
      <div class="icon" aria-hidden="true">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2"/>
          <path d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"
                stroke="currentColor" stroke-width="2"/>
        </svg>
      </div>
      <h3>Respect risk guardrails</h3>
    </div>
    <p>
      Designed to support drawdown limits, session boundaries, and trade-frequency discipline.
    </p>
  </div>

  <div class="feature">
    <div class="top">
      <div class="icon" aria-hidden="true">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M21 12a9 9 0 1 1-3-6.7"
                stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M21 3v6h-6"
                stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <h3>Review and repeat</h3>
    </div>
    <p>
      Because the rules are explicit, journaling becomes objective â€” helping you improve with consistency.
    </p>
  </div>

</div>

      </div>
    </section>

<!-- PRICING -->
<section class="section" id="pricing">
  <div class="container">
    <div class="heading">
      <div>
        <h2>Choose your toolkit</h2>
        <p>
          Structured tools and automation designed to support disciplined execution,<br>
          with risk constraints built in.
        </p>
      </div>
    </div>

    <div class="pricing">

      <!-- PIP HERO Indicator (Scalping + Swing modes) -->
<div class="price" data-checkout="https://buy.stripe.com/aFa6oHbAi1GK50Afah2B203">
  <div class="phead">
    <div class="chiprow"></div>
    <div class="tier">Indicator</div>
    <div class="desc">
      An indicator that can be applied to your chart to advise when a trade entry is valid.
    </div>
  </div>

  <div class="val">
    <div class="num">Â£99</div>
    <div class="per">one-time</div>
  </div>

  <ul>
  <li>Rules-based indicator for structured trade execution</li>
  <li>Adaptable to both scalping and swing trading approaches</li>
  <li>Designed for traders who prioritise discipline over discretion</li>
</ul>

  <div class="actions">
    <button class="btn primary" type="button"
      data-product="PIP HERO Indicator" data-price="Â£99">
      Purchase
    </button>
  </div>
</div>

      <!-- Automated Swing Trading Bot -->
      <div class="price" data-checkout="https://buy.stripe.com/cNi9AT0VE0CGfFed292B201">
        <div class="phead">
          <div class="chiprow"></div>
          <div class="tier">Automated Trading Bot</div>
          <div class="desc">
         A hands-off trading bot for those who want rules-based execution without watching the charts.
          </div>
        </div>
        <div class="val">
          <div class="num">Â£499</div>
          <div class="per">one-time</div>
        </div>
        <ul>
          <li>Fully automated execution once configured</li>
          <li>Capable of trading multiple instruments in parallel</li>
          <li>Rules, risk limits, and position sizing defined by you</li>
        </ul>
        <div class="actions">
          <button class="btn primary" type="button"
            data-product="Automated Swing Trading Bot" data-price="Â£499">
            Purchase
          </button>
        </div>
      </div>

      <!-- Inner Circle -->
<div class="price" data-checkout="https://buy.stripe.com/7sYeVdawe99c9gQaU12B204">
  <div class="phead">
    <div class="chiprow"></div>
    <div class="tier">Inner Circle</div>
    <div class="desc">
      Private community access with direct guidance and accountability â€” for committed traders only.
    </div>
  </div>
  <div class="val">
    <div class="num">Â£49</div>
    <div class="per">/ month</div>
  </div>
  <ul>
    <li>Access to a private, serious trading community</li>
    <li>Direct 1-to-1 access to review why trades are not working</li>
    <li>Ongoing accountability focused on execution and discipline</li>
  </ul>
  <div class="actions">
    <button class="btn primary" type="button"
      data-product="Inner Circle" data-price="Â£49/month">
      Subscribe
    </button>
  </div>
</div>

    </div>
  </div>
</section>


    <!-- QUIZ FUNNEL -->
    <section class="section" id="quiz">
      <div class="container">
        <div class="quiz">
          <h2>Take our quick quiz</h2>
          <p>
            Answer two quick questions and weâ€™ll recommend the best starting point. Youâ€™ll be taken to the matching product.
          </p>

          <div class="quizgrid">
            <div class="qcard">
              <div class="qtitle">1) Your trading style</div>
              <label class="opt">
                <input type="radio" name="style" value="scalp" />
                <span><strong>Scalping:</strong> fast decisions, tighter stops, short holds.</span>
              </label>
              <label class="opt">
                <input type="radio" name="style" value="swing" />
                <span><strong>Swing:</strong> fewer trades, clearer structure, trend/pullback focus.</span>
              </label>
              <label class="opt">
                <input type="radio" name="style" value="auto" />
                <span><strong>Automation:</strong> want a rules engine to execute a swing plan.</span>
              </label>
              <label class="opt">
                <input type="radio" name="style" value="unsure" checked />
                <span><strong>Not sure:</strong> I want the safest starting point.</span>
              </label>
            </div>

            <div class="qcard">
              <div class="qtitle">2) Your preference</div>
              <label class="opt">
                <input type="radio" name="pref" value="speed" />
                <span><strong>Speed:</strong> quicker setups and more frequent opportunities.</span>
              </label>
              <label class="opt">
                <input type="radio" name="pref" value="clarity" checked />
                <span><strong>Clarity:</strong> cleaner rules and fewer decisions.</span>
              </label>
              <label class="opt">
                <input type="radio" name="pref" value="handsOff" />
                <span><strong>Hands-off:</strong> prefer automation where possible.</span>
              </label>
            </div>
          </div>

          <div class="quizactions">
            <button class="btn primary" id="quizBtn" type="button">Show results</button>
            <a class="btn ghost" href="#pricing">Skip â€” view all</a>
          </div>

          <div class="result" id="quizResult" aria-live="polite"></div>
        </div>
      </div>
    </section>

<!-- FAQs after quiz -->
<section class="section tight" id="faq">
  <div class="container">
    <div class="heading">
      <div>
        <h2>FAQs</h2>
        <p>Clear answers to common questions you may have about PIP HERO.</p>
      </div>
    </div>

    <div class="faqgrid">
      <!-- 1) Signals -->
      <details>
        <summary>
          Are these signals?
          <svg class="chev" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </summary>
        <p>
  No. PIP HERO does not provide signals or trade alerts. The indicator highlights when predefined entry conditions are valid, but does not provide trade alerts or instructions.
  <br><br>
  For the automated trading bot, trades are executed automatically according to a fixed ruleset that you configure in advance â€” without discretionary decision-making.
</p>
      </details>

      <!-- 2) Who it's for -->
      <details>
        <summary>
          Who are these tools best suited for?
          <svg class="chev" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </summary>
        <p>
          These tools are designed for traders who want structure, rules, and accountability in their execution. They are not designed for beginners looking for signals, nor for traders unwilling to follow defined rules or review their performance objectively.
        </p>
      </details>

      <!-- 3) Platforms -->
      <details>
        <summary>
          What platforms are supported?
          <svg class="chev" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </summary>
        <p>
  The indicator and automated trading bot are delivered via
  <strong>TradingView</strong>.<br><br>

  Community-based products, such as the Inner Circle, are delivered via
  <strong>Discord</strong>.<br><br>

  Platform support is therefore limited to TradingView and its supported brokers
  and instruments, alongside Discord for community access where applicable.
</p>

      </details>

      <!-- 4) Delivery -->
      <details>
        <summary>
          How do I receive the product after purchase?
          <svg class="chev" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </summary>
        <p>
  After purchase, youâ€™ll receive a confirmation email containing your
  <strong>PDF setup guide</strong>.<br><br>

  Your PDF includes the link to access your product,
  along with setup instructions.<br><br>

  If you donâ€™t receive the email within <strong>10 minutes</strong>, please check your junk folder,
  or contact us for support.
</p>

      </details>

      <!-- 5) Guarantees -->
      <details>
        <summary>
          Do you guarantee results?
          <svg class="chev" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </summary>
       <p>
  No. Trading involves risk, and outcomes depend on execution, discipline, and market conditions.
  PIP HERO provides indicators and automation tools that define when entries and exits are valid, but does not provide performance guarantees or investment advice.
</p>
      </details>

      <!-- 6) Choosing -->
      <details>
        <summary>
          Does the indicator automatically place trades?
          <svg class="chev" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </summary>
        <p>No. The indicator is analytical only. Trades are placed manually unless you are using the automated trading bot.</p>
      </details>
    </div>
  </div>
</section>

    <!-- LEGAL -->
<section class="section tight" id="terms">
  <div class="container">
    <div class="heading">
      <div>
        <h2>Legal</h2>
        <p>Important information regarding risk, usage, and limitations.</p>
      </div>
    </div>

    <div class="features" style="margin-top:0;">

      <!-- Terms of Service -->
      <div class="feature" style="grid-column: span 6; min-height:auto;">
        <h3>Terms of Service</h3>

        <ul>
          <li>All PIP HERO products are provided as-is for analytical and educational purposes only.</li>
          <li>You are responsible for how the tools are used and for all trading decisions made.</li>
          <li><strong>All sales are final.</strong> Due to the digital nature of the products, no refunds are provided.</li>
          <li>Access and licensing are granted to the original purchaser only.</li>
          <li>Products may not be shared, resold, or redistributed in any form.</li>
        </ul>
      </div>

      <!-- Risk Disclosure -->
      <div class="feature" id="risk" style="grid-column: span 6; min-height:auto;">
        <h3>Risk Disclosure</h3>

        <ul>
          <li>Trading futures, foreign exchange, cryptocurrencies, and CFDs involves substantial risk.</li>
          <li>Losses can exceed initial capital, and trading may not be suitable for all individuals.</li>
          <li>PIP HERO provides indicators and automated trading tools that define valid trading conditions.</li>
          <li>We do not provide investment advice, trading signals, or performance guarantees.</li>
          <li>You are solely responsible for configuring risk parameters, position sizing, and execution.</li>
        </ul>
      </div>

    </div>
  </div>
</section>

  </main>

  <footer>
    <div class="container">
      <div class="footer">
      <div class="brand" aria-label="PIP HERO footer">
  <img src="assets/logo.png" alt="PIP HERO logo" class="logo" />
  <div>
    <div style="font-weight:700; color:rgba(232,236,255,.92)">PIP HERO</div>
  </div>
</div>

        <div class="small">
          Â© <span id="year"></span> PIP HERO. All rights reserved.
        </div>
      </div>
    </div>
  </footer>

  <!-- Email capture modal -->
  <div class="modal-overlay" id="emailModal" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Email discount modal">
      <button class="modal-close" type="button" id="emailModalClose" aria-label="Close">Ã—</button>

      <h3>Exclusive discount</h3>
      <p>Enter your email to receive an exclusive discount code.</p>

<!-- Form view -->
<div id="emailFormWrap">
  <input id="emailInput" type="email" placeholder="you@example.com" autocomplete="email" />

   <!-- GDPR consent -->
  <label class="email-consent">
    <input type="checkbox" id="emailConsent" />
    <span>
      I agree to receive emails from PIP HERO about product updates, educational resources, and occasional offers.
      Unsubscribe at any time.
    </span>
  </label>

  <div style="display:flex; gap:10px; flex-wrap:wrap;">
    <button class="btn primary" type="button" id="emailSubmitBtn">Get my discount</button>
    <button class="btn ghost" type="button" id="emailNoThanksBtn">No thanks</button>
  </div>

  <p id="emailInlineError" style="display:none; margin:10px 0 0; color:rgba(232,236,255,.85); background:rgba(239,68,68,.14); border:1px solid rgba(239,68,68,.25); padding:10px 12px; border-radius:14px; font-size:13px; line-height:1.4;"></p>
</div>

      <!-- Success view -->
      <div id="emailSuccessWrap" style="display:none; margin-top:10px;">
        <div style="border-radius:14px; border:1px solid rgba(52,211,153,.22); background:rgba(52,211,153,.10); padding:10px 12px; color:rgba(232,236,255,.88); font-size:13px; line-height:1.5;">
          <strong>Youâ€™re all set.</strong><br/>
          Your discount code: <strong id="discountCode">LAUNCH10</strong><br/>
          Use this at checkout.
        </div>

        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;">
          <a class="btn primary" href="#pricing" id="emailSuccessCta">View pricing</a>
          <button class="btn" type="button" id="copyDiscountBtn">Copy code</button>
          <button class="btn ghost" type="button" id="emailSuccessCloseBtn">Close</button>
        </div>

        <p id="copyStatus" style="display:none; margin:10px 0 0; color:rgba(232,236,255,.72); font-size:13px;"></p>
      </div>
    </div>
  </div>

<!-- Hidden Mailchimp submit (background) -->
<iframe name="mc_hidden_iframe" id="mc_hidden_iframe" style="display:none;"></iframe>

<form id="mcHiddenForm"
  action="https://piphero.us18.list-manage.com/subscribe/post?u=0410bdd311b58b9c236a2e4bf&amp;id=1d4e3a8fdd&amp;f_id=00e3b2e6f0"
  method="post"
  target="mc_hidden_iframe"
  style="display:none;"
>
  <input type="email" name="EMAIL" id="mcHiddenEmail" value="" />

  <!-- GDPR consent checkbox field (Mailchimp expects this) -->
  <input type="hidden" name="gdpr[105388]" id="mcHiddenGdpr" value="Y" />

  <!-- Tag from your embed -->
  <input type="hidden" name="tags" value="3131179" />

  <!-- Bot trap (from your embed) -->
  <div style="position:absolute; left:-5000px;" aria-hidden="true">
    <input type="text" name="b_0410bdd311b58b9c236a2e4bf_1d4e3a8fdd" tabindex="-1" value="">
  </div>
</form>

<!-- SINGLE, HARDENED SCRIPT (no optional-chaining assignments) -->
<script>
  (function () {
    function $(id){ return document.getElementById(id); }

    window.addEventListener('DOMContentLoaded', function () {
      // Mobile menu
      var hamburger = $('hamburger');
      var mobileMenu = $('mobileMenu');

      function setMenu(open){
        if(!mobileMenu) return;
        mobileMenu.classList.toggle('show', open);
        if(hamburger) hamburger.setAttribute('aria-expanded', String(open));
      }

      if(hamburger){
        hamburger.addEventListener('click', function () {
          var open = !(mobileMenu && mobileMenu.classList.contains('show'));
          setMenu(open);
        });
      }

      if(mobileMenu){
        var links = mobileMenu.querySelectorAll('a');
        for (var i=0; i<links.length; i++){
          links[i].addEventListener('click', function(){ setMenu(false); });
        }
      }

      // Footer year (guarded)
      var yearEl = $('year');
      if(yearEl) yearEl.textContent = String(new Date().getFullYear());

      // Quiz
      var quizBtn = $('quizBtn');
      var quizResult = $('quizResult');
      var lastRecommendation = null;

      function getRadioValue(name){
        var el = document.querySelector('input[name="' + name + '"]:checked');
        return el ? el.value : null;
      }

      function recommendProduct(style, pref){
        if(style === 'auto' || pref === 'handsOff') return 'bot';
        if(style === 'scalp' || pref === 'speed') return 'scalp';
        if(style === 'swing') return 'swing';
        return 'swing';
      }

      function cardFor(key){
        // order of pricing cards: 0=scalp, 1=swing, 2=bot, 3=inner circle
        var map = { scalp: 0, swing: 1, bot: 2, inner: 3 };
        var cards = document.querySelectorAll('#pricing .price');
        return cards && cards.length ? (cards[map[key]] || null) : null;
      }

      function prettyName(key){
        var names = {
          scalp: 'Scalping Indicator',
          swing: 'Swing Indicator',
          bot: 'Automated Swing Trading Bot',
          inner: 'Inner Circle'
        };
        return names[key] || key;
      }

      function clearRecommended(){
        var recs = document.querySelectorAll('#pricing .price.recommended');
        for (var i=0; i<recs.length; i++){
          recs[i].classList.remove('recommended');
        }
      }

      function highlightCard(card){
        if(!card) return;
        clearRecommended();
        card.classList.add('recommended');
      }

      function setQuizButtonState(state){
        if(!quizBtn) return;
        if(state === 'done'){
          quizBtn.textContent = 'Results shown';
          quizBtn.classList.remove('primary');
          quizBtn.classList.add('ghost');
          quizBtn.disabled = true;
        } else {
          quizBtn.textContent = 'Show results';
          quizBtn.classList.remove('ghost');
          quizBtn.classList.add('primary');
          quizBtn.disabled = false;
        }
      }

      function resetQuiz(){
        var styleEl = document.querySelector('input[name="style"][value="unsure"]');
        if(styleEl) styleEl.checked = true;

        var prefEl = document.querySelector('input[name="pref"][value="clarity"]');
        if(prefEl) prefEl.checked = true;

        lastRecommendation = null;

        if(quizResult){
          quizResult.style.display = 'none';
          quizResult.innerHTML = '';
        }

        clearRecommended();
        setQuizButtonState('ready');
      }

      setQuizButtonState('ready');

      if(quizBtn){
        quizBtn.addEventListener('click', function () {
          var style = getRadioValue('style') || 'unsure';
          var pref = getRadioValue('pref') || 'clarity';
          var rec = recommendProduct(style, pref);
          lastRecommendation = rec;

          if(!quizResult) return;

          quizResult.style.display = 'block';
          quizResult.innerHTML =
            '<strong>Recommendation:</strong> ' + prettyName(rec) + '<br/>' +
            'Click below to view the recommended product.' +
            '<div class="row">' +
              '<button class="btn primary" type="button" id="seePricingBtn">Go to product</button>' +
              '<button class="btn ghost" type="button" id="resetQuizBtn">Reset</button>' +
              '<a class="btn ghost" href="#faq">Read FAQs</a>' +
            '</div>';

          setQuizButtonState('done');

          var seeBtn = $('seePricingBtn');
          if(seeBtn){
            seeBtn.addEventListener('click', function () {
              var pricingSection = $('pricing');
              var card = cardFor(lastRecommendation);
              if(!pricingSection || !card) return;

              var yOffset = -20;
              var y = pricingSection.getBoundingClientRect().top + window.pageYOffset + yOffset;
              window.scrollTo({ top: y, behavior: 'smooth' });

              window.setTimeout(function(){ highlightCard(card); }, 300);
            });
          }

          var resetBtn = $('resetQuizBtn');
          if(resetBtn){
            resetBtn.addEventListener('click', function () {
              resetQuiz();
              var quizSection = $('quiz');
              if(quizSection) quizSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
          }
        });
      }

      // ==========================================================
      // Pricing checkout routing (Stripe Payment Links)
      // ==========================================================
      var pricingSection = $('pricing');
      if(pricingSection){
        pricingSection.addEventListener('click', function(e){
          // capture clicks on any .btn inside #pricing .actions
          var btn = e.target && e.target.closest ? e.target.closest('#pricing .actions .btn') : null;
          if(!btn) return;

          var card = btn.closest ? btn.closest('.price') : null;
          var url = card ? card.getAttribute('data-checkout') : '';

          if(!url){
            alert('Checkout link not set yet for this product.');
            return;
          }

          // route to Stripe payment link (same tab)
          window.location.href = url;
          // If you prefer new tab instead, use:
          // window.open(url, '_blank', 'noopener');
        });
      }

      // Email capture modal
      var EMAIL_MODAL_KEY = 'piphero_email_modal_dismissed_v1';
      var DISCOUNT_CODE = 'PIPHERO10';

      function openEmailModal(){
        var modal = $('emailModal');
        if(!modal) return;

        resetEmailModalUI();
        modal.classList.add('show');
        modal.setAttribute('aria-hidden', 'false');
        document.body.classList.add('modal-open');

        window.setTimeout(function () {
          var inp = $('emailInput');
          if(inp) inp.focus();
        }, 50);
      }

      function closeEmailModal(persist){
        if(typeof persist === 'undefined') persist = true;
        var modal = $('emailModal');
        if(!modal) return;

        modal.classList.remove('show');
        modal.setAttribute('aria-hidden', 'true');
        document.body.classList.remove('modal-open');

        if(persist){
          try { localStorage.setItem(EMAIL_MODAL_KEY, '1'); } catch(e){}
        }
      }

      function shouldShowEmailModal(){
        try { return !localStorage.getItem(EMAIL_MODAL_KEY); }
        catch(e){ return true; }
      }

      function showInlineError(msg){
        var el = $('emailInlineError');
        if(!el) return;
        el.style.display = 'block';
        el.textContent = msg;
      }

      function clearInlineError(){
        var el = $('emailInlineError');
        if(!el) return;
        el.style.display = 'none';
        el.textContent = '';
      }

      function showSuccessState(){
        clearInlineError();

        var codeEl = $('discountCode');
        if(codeEl) codeEl.textContent = DISCOUNT_CODE;

        var formWrap = $('emailFormWrap');
        if(formWrap) formWrap.style.display = 'none';

        var successWrap = $('emailSuccessWrap');
        if(successWrap) successWrap.style.display = 'block';

        try { localStorage.setItem(EMAIL_MODAL_KEY, '1'); } catch(e){}
      }

      function resetEmailModalUI(){
        clearInlineError();

        var input = $('emailInput');
        if(input) input.value = '';

        var formWrap = $('emailFormWrap');
        if(formWrap) formWrap.style.display = 'block';

        var successWrap = $('emailSuccessWrap');
        if(successWrap) successWrap.style.display = 'none';

        var copy = $('copyStatus');
        if(copy){
          copy.style.display = 'none';
          copy.textContent = '';
        }
      }

      function setCopyStatus(msg){
        var el = $('copyStatus');
        if(!el) return;

        el.style.display = 'block';
        el.textContent = msg;

        window.clearTimeout(window.__copyTimer);
        window.__copyTimer = window.setTimeout(function(){
          el.style.display = 'none';
          el.textContent = '';
        }, 1800);
      }

      var modal = $('emailModal');
      if(modal){
        var successCta = $('emailSuccessCta');
        if(successCta){
          successCta.addEventListener('click', function(e){
            e.preventDefault();
            closeEmailModal(true);
            window.setTimeout(function(){ location.hash = 'pricing'; }, 50);
          });
        }

        var copyBtn = $('copyDiscountBtn');
        if(copyBtn){
          copyBtn.addEventListener('click', function () {
            if(navigator.clipboard && navigator.clipboard.writeText){
              navigator.clipboard.writeText(DISCOUNT_CODE).then(function(){
                setCopyStatus('Copied to clipboard.');
              }).catch(function(){
                var tmp = document.createElement('textarea');
                tmp.value = DISCOUNT_CODE;
                tmp.style.position = 'fixed';
                tmp.style.left = '-9999px';
                document.body.appendChild(tmp);
                tmp.select();
                document.execCommand('copy');
                document.body.removeChild(tmp);
                setCopyStatus('Copied to clipboard.');
              });
            } else {
              var tmp2 = document.createElement('textarea');
              tmp2.value = DISCOUNT_CODE;
              tmp2.style.position = 'fixed';
              tmp2.style.left = '-9999px';
              document.body.appendChild(tmp2);
              tmp2.select();
              document.execCommand('copy');
              document.body.removeChild(tmp2);
              setCopyStatus('Copied to clipboard.');
            }
          });
        }

        if(shouldShowEmailModal()){
          window.setTimeout(openEmailModal, 7000);
        }

        var closeX = $('emailModalClose');
        if(closeX) closeX.addEventListener('click', function(){ closeEmailModal(true); });

        var noThanks = $('emailNoThanksBtn');
        if(noThanks) noThanks.addEventListener('click', function(){ closeEmailModal(true); });

        var successClose = $('emailSuccessCloseBtn');
        if(successClose) successClose.addEventListener('click', function(){ closeEmailModal(true); });

        modal.addEventListener('click', function(e){
          if(e.target === modal) closeEmailModal(true);
        });

        document.addEventListener('keydown', function(e){
          if(e.key === 'Escape' && modal.classList.contains('show')) closeEmailModal(true);
        });

        var submitBtn = $('emailSubmitBtn');
        if(submitBtn){
          submitBtn.addEventListener('click', function(){
            var emailInput = $('emailInput');
            var email = (emailInput && emailInput.value ? emailInput.value : '').trim();

            if(!email){
              showInlineError('Please enter your email address.');
              if(emailInput) emailInput.focus();
              return;
            }

            var ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            if(!ok){
              showInlineError('Please enter a valid email address.');
              if(emailInput) emailInput.focus();
              return;
            }

           // Require GDPR consent (Mailchimp GDPR audiences)
var consent = document.getElementById('emailConsent');
if(!consent || !consent.checked){
  showInlineError('Please tick the box to consent to email updates.');
  return;
}

// Submit to Mailchimp via hidden form + iframe
var mcForm = document.getElementById('mcHiddenForm');
var mcEmail = document.getElementById('mcHiddenEmail');

if(!mcForm || !mcEmail){
  showInlineError('Email system unavailable â€” please try again shortly.');
  return;
}

mcEmail.value = email;

try {
  mcForm.submit();
} catch (e) {
  // If submission fails, we still show success UI
}

showSuccessState();
          });
        }
      }
    });
  })();
</script>
</body>
</html>
